{% extends 'myapp/layouts/base.html' %}
{% load static %}
{% block content %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/split_pdf.css' %}">
{% endblock %}


<div class="box">
  <div class="header">
    <img src="{% static 'images/split.png' %}" alt="icon" class="title-icon">
    <h2>Split PDF Tool</h2>
  </div>
  {% if error %} 
  <div class="error">{{ error }}</div>
  {% endif %}

  <form id="split-form" method="post" enctype="multipart/form-data" action="{% url 'split_pdf' %}">
    {% csrf_token %}

    <input type="file" name="pdf_file" id="id_pdf_file" accept="application/pdf" required><br>

    <!-- PDF Preview -->
    <div id="preview" class="preview hidden">
      <embed id="pdfPreview" type="application/pdf">
      <button type="button" id="removeFile" class="remove-btn">âœ–</button>
    </div>

    <label for="id_ranges">Page Ranges:</label><br>
    <input type="text" name="ranges" id="id_ranges" placeholder="Example: 1-3,5,7-9" required><br>

    <button type="submit" class="btn">Split PDF</button>
  </form>

  <p class="note">
    Enter page ranges using 1-based page numbers. Example:
    <code>1-3,5,7-9</code>. Each range becomes a separate PDF inside the returned ZIP.
  </p>
</div>
<script src="{% static 'js/split.js' %}"></script>
{% endblock %}